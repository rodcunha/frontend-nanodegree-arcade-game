{"version":3,"sources":["js/resources.js"],"names":["resourceCache","loading","readyCallbacks","load","urlOrArr","Array","forEach","url","_load","img","Image","onload","isReady","func","src","get","ready","k","hasOwnProperty","onReady","push","window","Resources"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAMA,CAAC,YAAW;AACR,QAAIA,gBAAgB,EAApB;AACA,QAAIC,UAAU,EAAd;AACA,QAAIC,iBAAiB,EAArB;;AAEA;;;;AAIA,aAASC,IAAT,CAAcC,QAAd,EAAwB;AACpB,YAAGA,oBAAoBC,KAAvB,EAA8B;AAC1B;;;;AAIAD,qBAASE,OAAT,CAAiB,UAASC,GAAT,EAAc;AAC3BC,sBAAMD,GAAN;AACH,aAFD;AAGH,SARD,MAQO;AACH;;;;AAIAC,kBAAMJ,QAAN;AACH;AACJ;;AAED;;;AAGA,aAASI,KAAT,CAAeD,GAAf,EAAoB;AAChB,YAAGP,cAAcO,GAAd,CAAH,EAAuB;AACnB;;;;AAIA,mBAAOP,cAAcO,GAAd,CAAP;AACH,SAND,MAMO;AACH;;;AAGA,gBAAIE,MAAM,IAAIC,KAAJ,EAAV;AACAD,gBAAIE,MAAJ,GAAa,YAAW;AACpB;;;;AAIAX,8BAAcO,GAAd,IAAqBE,GAArB;;AAEA;;;AAGA,oBAAGG,SAAH,EAAc;AACVV,mCAAeI,OAAf,CAAuB,UAASO,IAAT,EAAe;AAAEA;AAAS,qBAAjD;AACH;AACJ,aAbD;;AAeA;;;;AAIAb,0BAAcO,GAAd,IAAqB,KAArB;AACAE,gBAAIK,GAAJ,GAAUP,GAAV;AACH;AACJ;;AAED;;;;AAIA,aAASQ,GAAT,CAAaR,GAAb,EAAkB;AACd,eAAOP,cAAcO,GAAd,CAAP;AACH;;AAED;;;AAGA,aAASK,OAAT,GAAmB;AACf,YAAII,QAAQ,IAAZ;AACA,aAAI,IAAIC,CAAR,IAAajB,aAAb,EAA4B;AACxB,gBAAGA,cAAckB,cAAd,CAA6BD,CAA7B,KACA,CAACjB,cAAciB,CAAd,CADJ,EACsB;AAClBD,wBAAQ,KAAR;AACH;AACJ;AACD,eAAOA,KAAP;AACH;;AAED;;;AAGA,aAASG,OAAT,CAAiBN,IAAjB,EAAuB;AACnBX,uBAAekB,IAAf,CAAoBP,IAApB;AACH;;AAED;;;AAGAQ,WAAOC,SAAP,GAAmB;AACfnB,cAAMA,IADS;AAEfY,aAAKA,GAFU;AAGfI,iBAASA,OAHM;AAIfP,iBAASA;AAJM,KAAnB;AAMH,CAxGD","file":"resources.b03d3b63.map","sourcesContent":["/* Resources.js\n * This is simply an image loading utility. It eases the process of loading\n * image files so that they can be used within your game. It also includes\n * a simple \"caching\" layer so it will reuse cached images if you attempt\n * to load the same image multiple times.\n */\n(function() {\n    var resourceCache = {};\n    var loading = [];\n    var readyCallbacks = [];\n\n    /* This is the publicly accessible image loading function. It accepts\n     * an array of strings pointing to image files or a string for a single\n     * image. It will then call our private image loading function accordingly.\n     */\n    function load(urlOrArr) {\n        if(urlOrArr instanceof Array) {\n            /* If the developer passed in an array of images\n             * loop through each value and call our image\n             * loader on that image file\n             */\n            urlOrArr.forEach(function(url) {\n                _load(url);\n            });\n        } else {\n            /* The developer did not pass an array to this function,\n             * assume the value is a string and call our image loader\n             * directly.\n             */\n            _load(urlOrArr);\n        }\n    }\n\n    /* This is our private image loader function, it is\n     * called by the public image loader function.\n     */\n    function _load(url) {\n        if(resourceCache[url]) {\n            /* If this URL has been previously loaded it will exist within\n             * our resourceCache array. Just return that image rather\n             * re-loading the image.\n             */\n            return resourceCache[url];\n        } else {\n            /* This URL has not been previously loaded and is not present\n             * within our cache; we'll need to load this image.\n             */\n            var img = new Image();\n            img.onload = function() {\n                /* Once our image has properly loaded, add it to our cache\n                 * so that we can simply return this image if the developer\n                 * attempts to load this file in the future.\n                 */\n                resourceCache[url] = img;\n\n                /* Once the image is actually loaded and properly cached,\n                 * call all of the onReady() callbacks we have defined.\n                 */\n                if(isReady()) {\n                    readyCallbacks.forEach(function(func) { func(); });\n                }\n            };\n\n            /* Set the initial cache value to false, this will change when\n             * the image's onload event handler is called. Finally, point\n             * the image's src attribute to the passed in URL.\n             */\n            resourceCache[url] = false;\n            img.src = url;\n        }\n    }\n\n    /* This is used by developers to grab references to images they know\n     * have been previously loaded. If an image is cached, this functions\n     * the same as calling load() on that URL.\n     */\n    function get(url) {\n        return resourceCache[url];\n    }\n\n    /* This function determines if all of the images that have been requested\n     * for loading have in fact been properly loaded.\n     */\n    function isReady() {\n        var ready = true;\n        for(var k in resourceCache) {\n            if(resourceCache.hasOwnProperty(k) &&\n               !resourceCache[k]) {\n                ready = false;\n            }\n        }\n        return ready;\n    }\n\n    /* This function will add a function to the callback stack that is called\n     * when all requested images are properly loaded.\n     */\n    function onReady(func) {\n        readyCallbacks.push(func);\n    }\n\n    /* This object defines the publicly accessible functions available to\n     * developers by creating a global Resources object.\n     */\n    window.Resources = {\n        load: load,\n        get: get,\n        onReady: onReady,\n        isReady: isReady\n    };\n})();\n"]}